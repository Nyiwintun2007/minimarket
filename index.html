<!DOCTYPE html>
<html lang="my">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Mini Market â€” Liquor Store</title>
    <style>
      :root {
        --accent: #6b2dff;
        --bg: #f6f7fb;
        --card: #ffffff;
        --muted: #6b7280;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto,
          "Noto Sans", "Helvetica Neue", Arial;
        margin: 0;
        background: var(--bg);
        color: #111;
      }
      header {
        background: linear-gradient(90deg, var(--accent), #8a5bff);
        color: white;
        padding: 20px 24px;
        display: flex;
        gap: 16px;
        align-items: center;
        justify-content: space-between;
        flex-wrap: wrap;
      }
      .brand {
        display: flex;
        gap: 12px;
        align-items: center;
      }
      .logo {
        width: 48px;
        height: 48px;
        border-radius: 8px;
        background: #fff2;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 10px;
        text-align: center;
        padding: 4px;
      }
      .search {
        flex: 1;
        max-width: 600px;
        margin-left: 24px;
        min-width: 200px;
      }
      input[type="search"] {
        width: 100%;
        padding: 10px 14px;
        border-radius: 10px;
        border: none;
        outline: none;
      }
      .header-actions {
        display: flex;
        gap: 12px;
        align-items: center;
        flex-wrap: wrap;
      }
      main {
        display: grid;
        grid-template-columns: 270px 1fr 340px;
        gap: 20px;
        padding: 24px;
      }
      .sidebar {
        background: var(--card);
        padding: 16px;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(11, 18, 40, 0.06);
      }
      h2 {
        margin: 0 0 12px 0;
        font-size: 16px;
      }
      .category {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }
      .chip {
        padding: 8px 10px;
        border-radius: 999px;
        background: #f2f2f6;
        font-size: 13px;
        cursor: pointer;
      }
      .chip.active {
        background: var(--accent);
        color: white;
      }
      .products {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 18px;
      }
      .card {
        background: var(--card);
        padding: 12px;
        border-radius: 12px;
        box-shadow: 0 6px 18px rgba(11, 18, 40, 0.04);
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .media {
        height: 130px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #fafafa;
        overflow: hidden;
      }
      .media img {
        max-width: 100%;
        max-height: 100%;
      }
      .title {
        font-weight: 600;
        font-size: 15px;
      }
      .meta {
        font-size: 13px;
        color: var(--muted);
      }
      .price {
        font-weight: 700;
      }
      .actions {
        margin-top: auto;
        display: flex;
        gap: 8px;
        align-items: center;
      }
      button.add {
        flex: 1;
        padding: 8px;
        border-radius: 8px;
        border: none;
        background: var(--accent);
        color: white;
        cursor: pointer;
      }
      button.ghost {
        padding: 8px;
        border-radius: 8px;
        border: 1px solid #e5e7eb;
        background: transparent;
        cursor: pointer;
      }
      .cart {
        position: sticky;
        top: 24px;
      }
      .cart-items {
        max-height: 420px;
        overflow: auto;
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .cart-row {
        display: flex;
        gap: 8px;
        align-items: center;
        padding: 8px;
        border-radius: 8px;
        background: #fbfbfd;
      }
      .qty {
        display: flex;
        gap: 6px;
        align-items: center;
      }
      .qty button {
        width: 28px;
        height: 28px;
        border-radius: 6px;
        border: none;
        background: #eef2ff;
        cursor: pointer;
      }
      .checkout {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 12px;
      }
      .empty {
        padding: 28px;
        text-align: center;
        color: var(--muted);
      }
      footer {
        padding: 20px;
        text-align: center;
        color: var(--muted);
      }
      /* Modal Styles */
      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        animation: fadeIn 0.3s;
      }
      .modal.active {
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .modal-content {
        background: white;
        border-radius: 16px;
        padding: 32px;
        max-width: 500px;
        width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        animation: slideUp 0.3s;
      }
      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
      }
      .modal-header h2 {
        margin: 0;
        color: #111;
        font-size: 24px;
      }
      .close-btn {
        background: transparent;
        border: none;
        font-size: 28px;
        cursor: pointer;
        color: #6b7280;
        padding: 0;
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 8px;
        transition: all 0.2s;
      }
      .close-btn:hover {
        background: #f3f4f6;
        color: #111;
      }
      .contact-grid {
        display: grid;
        gap: 16px;
      }
      .contact-item {
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 16px;
        background: #f9fafb;
        border-radius: 12px;
        text-decoration: none;
        color: #111;
        transition: all 0.2s;
        border: 2px solid transparent;
      }
      .contact-item:hover {
        background: #f3f4f6;
        border-color: var(--accent);
        transform: translateY(-2px);
      }
      .contact-icon {
        width: 48px;
        height: 48px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        flex-shrink: 0;
      }
      .contact-icon.telegram {
        background: #0088cc;
        color: white;
      }
      .contact-icon.facebook {
        background: #1877f2;
        color: white;
      }
      .contact-icon.phone {
        background: #10b981;
        color: white;
      }
      .contact-icon.viber {
        background: #7360f2;
        color: white;
      }
      .contact-info {
        flex: 1;
      }
      .contact-label {
        font-size: 13px;
        color: var(--muted);
        margin-bottom: 4px;
      }
      .contact-value {
        font-weight: 600;
        font-size: 15px;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }
      @keyframes slideUp {
        from {
          transform: translateY(20px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      @media (max-width: 980px) {
        main {
          grid-template-columns: 1fr;
          padding: 16px;
        }
        .cart {
          position: static;
        }
        header {
          padding: 16px;
          gap: 12px;
        }
        .search {
          margin-left: 0;
          order: 3;
          flex-basis: 100%;
          min-width: 100%;
        }
        .header-actions {
          gap: 8px;
        }
        .logo {
          width: 40px;
          height: 40px;
          font-size: 8px;
        }
        .brand > div {
          font-size: 14px;
        }
        .brand > div > div:first-child {
          font-size: 16px;
        }
        button {
          font-size: 13px;
          padding: 8px 10px !important;
        }
        .modal-content {
          padding: 24px;
          width: 95%;
        }
        .contact-item {
          padding: 12px;
          gap: 12px;
        }
        .contact-icon {
          width: 40px;
          height: 40px;
          font-size: 20px;
        }
      }
      @media (max-width: 640px) {
        .header-actions > div {
          display: none;
        }
        .products {
          grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
        }
      }
    </style>
  </head>
  <body>
    <header>
      <div class="brand">
        <div class="logo">LIQUOR STORE</div>
        <div>
          <div style="font-weight: 700">Mini Market</div>
          <div style="font-size: 12px; color: rgba(255, 255, 255, 0.9)">
            Liquor Store â€” alcoholic beverages
          </div>
        </div>
      </div>
      <div class="search">
        <input
          id="search"
          type="search"
          placeholder="á€›á€¾á€¬á€™á€šá€º â€” á€…á€¬á€¡á€™á€Šá€º (á€¥á€•á€™á€¬: whisky, beer)"
        />
      </div>
      <div class="header-actions">
        <div style="font-size: 13px; color: white">
          Open â€¢ all kinds of liquid available
        </div>
        <button
          id="contact-btn"
          style="
            padding: 8px 12px;
            border-radius: 8px;
            border: none;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-weight: 600;
            cursor: pointer;
            backdrop-filter: blur(10px);
          "
        >
          ðŸ“ž Contact
        </button>
        <button
          id="open-cart"
          style="
            padding: 8px 12px;
            border-radius: 8px;
            border: none;
            background: white;
            color: var(--accent);
            font-weight: 600;
            cursor: pointer;
          "
        >
          Cart (0)
        </button>
      </div>
    </header>

    <main>
      <aside class="sidebar">
        <h2>Categories</h2>
        <div class="category" id="categories"></div>
        <hr
          style="margin: 12px 0; border: none; border-top: 1px solid #f1f3f8"
        />
        <h2>Price</h2>
        <div style="display: flex; gap: 8px; align-items: center">
          <input
            id="min-price"
            type="number"
            placeholder="Min"
            style="
              flex: 1;
              padding: 8px;
              border-radius: 8px;
              border: 1px solid #eef2ff;
              width: 0;
              min-width: 0;
              font-size: 13px;
            "
          />
          <input
            id="max-price"
            type="number"
            placeholder="Max"
            style="
              flex: 1;
              padding: 8px;
              border-radius: 8px;
              border: 1px solid #eef2ff;
              width: 0;
              min-width: 0;
              font-size: 13px;
            "
          />
        </div>
        <div style="margin-top: 12px; display: flex; gap: 8px">
          <button id="apply-filters" class="chip">Apply</button>
          <button id="clear-filters" class="chip">Clear</button>
        </div>
      </aside>

      <section>
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
          "
        >
          <h2>Products</h2>
          <div style="color: var(--muted); font-size: 14px">
            Showing <span id="result-count">0</span> items
          </div>
        </div>
        <div class="products" id="products"></div>
      </section>

      <aside class="sidebar cart">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <h2>Your Cart</h2>
          <div id="cart-count">0</div>
        </div>
        <div class="cart-items" id="cart-items">
          <div class="empty">Your cart is empty</div>
        </div>
        <div class="checkout">
          <div>
            <div style="font-size: 13px; color: var(--muted)">Total</div>
            <div style="font-weight: 800; font-size: 18px" id="cart-total">
              0ks
            </div>
          </div>
          <div>
            <button id="checkout-btn" class="add">Checkout</button>
          </div>
        </div>
      </aside>
    </main>

    <!-- Contact Modal -->
    <div id="contact-modal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Contact Us</h2>
          <button class="close-btn" id="close-modal">&times;</button>
        </div>
        <div class="contact-grid">
          <a
            href="https://t.me/yourusername"
            target="_blank"
            class="contact-item"
          >
            <div class="contact-icon telegram">ðŸ“±</div>
            <div class="contact-info">
              <div class="contact-label">Telegram</div>
              <div class="contact-value">@yourusername</div>
            </div>
          </a>
          <a
            href="https://facebook.com/yourpage"
            target="_blank"
            class="contact-item"
          >
            <div class="contact-icon facebook">ðŸ‘¤</div>
            <div class="contact-info">
              <div class="contact-label">Facebook</div>
              <div class="contact-value">Mini Market Liquor</div>
            </div>
          </a>
          <a href="tel:+959123456789" class="contact-item">
            <div class="contact-icon phone">ðŸ“ž</div>
            <div class="contact-info">
              <div class="contact-label">Phone</div>
              <div class="contact-value">+95 9 123 456 789</div>
            </div>
          </a>
          <a href="viber://chat?number=+959123456789" class="contact-item">
            <div class="contact-icon viber">ðŸ’¬</div>
            <div class="contact-info">
              <div class="contact-label">Viber</div>
              <div class="contact-value">+95 9 123 456 789</div>
            </div>
          </a>
        </div>
      </div>
    </div>

    <footer>
      Mini Market â€” Liquor Store â€” please obey local laws when selling alcohol.
    </footer>

    <script>
      function formatKs(num) {
        return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",") + "ks";
      }

      const productsData = [
        {
          id: 1,
          name: "Monkey Shoulder 1L",
          category: "Whisky",
          price: 160000,
          img: "assets/monkey_shoulder.jpg",
        },
        {
          id: 2,
          name: "Beehive V.S.O.P 1L",
          category: "Whisky",
          price: 63000,
          img: "assets/beehive_vsop.jpg",
        },
        {
          id: 3,
          name: "Beehive XO 1L",
          category: "Whisky",
          price: 75000,
          img: "assets/beehive_xo.jpg",
        },
        {
          id: 4,
          name: "Gentleman Jack 1L",
          category: "Whisky",
          price: 163000,
          img: "assets/gentleman_jack.jpg",
        },
        {
          id: 5,
          name: "Jack Daniels 0.7L",
          category: "Whisky",
          price: 67000,
          img: "assets/jack_daniels_07.jpg",
        },
        {
          id: 6,
          name: "Jack Daniels 1L",
          category: "Whisky",
          price: 90000,
          img: "assets/jack_daniels_1l.jpg",
        },
        {
          id: 7,
          name: "Jagermeister 0.7L",
          category: "Liquor",
          price: 58000,
          img: "assets/jagermeister_07.jpg",
        },
        {
          id: 8,
          name: "Jagermeister 1L",
          category: "Liquor",
          price: 75000,
          img: "assets/jagermeister_1l.jpg",
        },
        {
          id: 9,
          name: "Grants 1L",
          category: "Whisky",
          price: 48000,
          img: "assets/grants_1l.jpg",
        },
        {
          id: 10,
          name: "Old Par 1L",
          category: "Whisky",
          price: 158000,
          img: "assets/old_par_1l.jpg",
        },
        {
          id: 11,
          name: "J & B 1L",
          category: "Whisky",
          price: 73000,
          img: "assets/j_and_b_1l.jpg",
        },
        {
          id: 12,
          name: "Passport Scotch 1L",
          category: "Whisky",
          price: 63000,
          img: "assets/passport_scotch_1l.jpg",
        },
        {
          id: 13,
          name: "Black & White 1L",
          category: "Whisky",
          price: 63000,
          img: "assets/black_white_1l.jpg",
        },
        {
          id: 14,
          name: "Label 5 1L",
          category: "Whisky",
          price: 47000,
          img: "assets/label_5_1l.jpg",
        },
        {
          id: 15,
          name: "The Famous Grous 1L",
          category: "Whisky",
          price: 65000,
          img: "assets/famous_grous_1l.jpg",
        },
        {
          id: 16,
          name: "Vat 69 1L",
          category: "Whisky",
          price: 53000,
          img: "assets/vat_69_1l.jpg",
        },
        {
          id: 17,
          name: "James (Rich) 1L",
          category: "Whisky",
          price: 95000,
          img: "assets/james_rich_1l.jpg",
        },
        {
          id: 18,
          name: "Tendo 1L",
          category: "Whisky",
          price: 53000,
          img: "assets/tendo_1l.jpg",
        },
      ];

      const state = {
        products: productsData,
        filtered: [...productsData],
        cart: {},
      };

      const productsEl = document.getElementById("products");
      const categoriesEl = document.getElementById("categories");
      const resultCount = document.getElementById("result-count");
      const searchEl = document.getElementById("search");
      const cartItemsEl = document.getElementById("cart-items");
      const cartCountEl = document.getElementById("cart-count");
      const cartTotalEl = document.getElementById("cart-total");
      const openCartBtn = document.getElementById("open-cart");

      function renderCategories() {
        const cats = Array.from(new Set(state.products.map((p) => p.category)));
        categoriesEl.innerHTML = "";
        const all = document.createElement("div");
        all.className = "chip active";
        all.textContent = "All";
        all.addEventListener("click", () => {
          setActiveCategory("All");
        });
        categoriesEl.appendChild(all);
        cats.forEach((c) => {
          const el = document.createElement("div");
          el.className = "chip";
          el.textContent = c;
          el.addEventListener("click", () => setActiveCategory(c));
          categoriesEl.appendChild(el);
        });
      }

      function setActiveCategory(cat) {
        Array.from(categoriesEl.children).forEach((ch) =>
          ch.classList.remove("active")
        );
        const found =
          Array.from(categoriesEl.children).find(
            (ch) => ch.textContent === cat
          ) || categoriesEl.children[0];
        if (found) found.classList.add("active");
        applyFilters();
      }

      function applyFilters() {
        const q = (searchEl.value || "").toLowerCase().trim();
        const activeCatEl = Array.from(categoriesEl.children).find((ch) =>
          ch.classList.contains("active")
        );
        const activeCat =
          activeCatEl && activeCatEl.textContent !== "All"
            ? activeCatEl.textContent
            : null;
        const min = parseFloat(document.getElementById("min-price").value) || 0;
        const maxVal = document.getElementById("max-price").value;
        const max = maxVal ? parseFloat(maxVal) : Infinity;

        state.filtered = state.products.filter((p) => {
          if (activeCat && p.category !== activeCat) return false;
          if (
            q &&
            !(
              p.name.toLowerCase().includes(q) ||
              p.category.toLowerCase().includes(q)
            )
          )
            return false;
          if (p.price < min || p.price > max) return false;
          return true;
        });
        renderProducts();
      }

      function renderProducts() {
        productsEl.innerHTML = "";
        resultCount.textContent = state.filtered.length;
        state.filtered.forEach((p) => {
          const card = document.createElement("div");
          card.className = "card";
          card.innerHTML = `
          <div class="media"><img src="${p.img}" alt="${p.name}"></div>
          <div class="title">${p.name}</div>
          <div class="meta">${p.category}</div>
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div class="price">${formatKs(p.price)}</div>
            <div class="actions">
              <button class="ghost" data-id="${p.id}">Details</button>
              <button class="add" data-id="${p.id}">Add</button>
            </div>
          </div>
        `;
          productsEl.appendChild(card);
        });
        Array.from(document.querySelectorAll(".add")).forEach(
          (b) => (b.onclick = () => addToCart(parseInt(b.dataset.id)))
        );
        Array.from(document.querySelectorAll(".ghost")).forEach(
          (b) => (b.onclick = () => showDetails(parseInt(b.dataset.id)))
        );
      }

      function showDetails(id) {
        const p = state.products.find((x) => x.id === id);
        if (!p) return;
        alert(
          `${p.name}\nCategory: ${p.category}\nPrice: ${formatKs(
            p.price
          )}\n\nThis is a demo product.`
        );
      }

      function addToCart(id) {
        const p = state.products.find((x) => x.id === id);
        if (!p) return;
        if (!state.cart[id]) state.cart[id] = { ...p, qty: 0 };
        state.cart[id].qty += 1;
        syncCartUI();
      }

      function changeQty(id, delta) {
        if (!state.cart[id]) return;
        state.cart[id].qty += delta;
        if (state.cart[id].qty <= 0) delete state.cart[id];
        syncCartUI();
      }

      function syncCartUI() {
        const items = Object.values(state.cart);
        cartItemsEl.innerHTML = items.length
          ? ""
          : '<div class="empty">Your cart is empty</div>';
        items.forEach((it) => {
          const row = document.createElement("div");
          row.className = "cart-row";
          row.innerHTML = `
          <div style="flex:1">
            <div style="font-weight:700">${it.name}</div>
            <div style="font-size:13px;color:var(--muted)">${it.category}</div>
          </div>
          <div style="text-align:right">
            <div style="font-weight:700">${formatKs(it.price * it.qty)}</div>
            <div class="qty" style="margin-top:6px">
              <button data-id="${it.id}" class="decrease">-</button>
              <div style="min-width:24px;text-align:center">${it.qty}</div>
              <button data-id="${it.id}" class="increase">+</button>
            </div>
          </div>
        `;
          cartItemsEl.appendChild(row);
        });

        Array.from(document.querySelectorAll(".increase")).forEach(
          (b) => (b.onclick = () => changeQty(b.dataset.id * 1, +1))
        );
        Array.from(document.querySelectorAll(".decrease")).forEach(
          (b) => (b.onclick = () => changeQty(b.dataset.id * 1, -1))
        );

        cartCountEl.textContent = items.reduce((s, i) => s + i.qty, 0);
        openCartBtn.textContent = `Cart (${cartCountEl.textContent})`;
        cartTotalEl.textContent = formatKs(
          items.reduce((s, i) => s + i.qty * i.price, 0)
        );
      }

      document
        .getElementById("apply-filters")
        .addEventListener("click", applyFilters);
      document.getElementById("clear-filters").addEventListener("click", () => {
        document.getElementById("min-price").value = "";
        document.getElementById("max-price").value = "";
        searchEl.value = "";
        setActiveCategory("All");
      });
      searchEl.addEventListener("input", applyFilters);

      document.getElementById("checkout-btn").addEventListener("click", () => {
        const items = Object.values(state.cart);
        if (items.length === 0) {
          alert("Cart is empty");
          return;
        }
        const total = formatKs(items.reduce((s, i) => s + i.qty * i.price, 0));
        if (
          confirm(
            `Proceed to checkout?\nTotal: ${total}\n\nNote: Demo checkout.`
          )
        ) {
          state.cart = {};
          syncCartUI();
          alert("Thank you! Order placed (demo).");
        }
      });

      openCartBtn.addEventListener("click", () => {
        document
          .querySelector(".cart")
          .scrollIntoView({ behavior: "smooth", block: "center" });
      });

      // Contact Modal functionality
      const contactModal = document.getElementById("contact-modal");
      const contactBtn = document.getElementById("contact-btn");
      const closeModalBtn = document.getElementById("close-modal");

      contactBtn.addEventListener("click", () => {
        contactModal.classList.add("active");
      });

      closeModalBtn.addEventListener("click", () => {
        contactModal.classList.remove("active");
      });

      contactModal.addEventListener("click", (e) => {
        if (e.target === contactModal) {
          contactModal.classList.remove("active");
        }
      });

      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && contactModal.classList.contains("active")) {
          contactModal.classList.remove("active");
        }
      });

      renderCategories();
      renderProducts();
      syncCartUI();
    </script>
  </body>
</html>
